"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const class_1 = require("../controllers/class");
const auth_1 = require("../middlewares/auth");
const auth_2 = require("../controllers/auth");
const validate_1 = require("../middlewares/validate");
const user_1 = require("../models/user");
const class_2 = require("../validation/class");
const classRouter = (0, express_1.Router)();
classRouter.post('/create', auth_1.protect, (0, auth_2.allowTo)(user_1.UserRole.INSTRUCTOR, user_1.UserRole.ADMIN), (0, validate_1.validate)(class_2.createClassSchema), class_1.createClass);
classRouter.post('/add-students', auth_1.protect, (0, auth_2.allowTo)(user_1.UserRole.INSTRUCTOR, user_1.UserRole.ADMIN), (0, validate_1.validate)(class_2.addStudentsSchema), class_1.addStudents);
classRouter.delete('/remove-students', auth_1.protect, (0, auth_2.allowTo)(user_1.UserRole.INSTRUCTOR, user_1.UserRole.ADMIN), (0, validate_1.validate)(class_2.removeStudentsSchema), class_1.removeStudents);
classRouter.patch('/update', auth_1.protect, (0, auth_2.allowTo)(user_1.UserRole.INSTRUCTOR, user_1.UserRole.ADMIN), (0, validate_1.validate)(class_2.updateClassSchema), class_1.updateClass);
classRouter.delete('/delete', auth_1.protect, (0, auth_2.allowTo)(user_1.UserRole.ADMIN), (0, validate_1.validate)(class_2.deleteClassSchema), class_1.deleteClass);
classRouter.get('/my-classes', auth_1.protect, (0, auth_2.allowTo)(user_1.UserRole.INSTRUCTOR, user_1.UserRole.ADMIN, user_1.UserRole.STUDENT), class_1.getMyClasses);
exports.default = classRouter;
